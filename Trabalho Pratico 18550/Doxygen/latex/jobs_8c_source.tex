\doxysection{jobs.\+c}
\label{jobs_8c_source}\index{D:/Pedro Leiras/IPCA/EDJD 1ANO/S2/EDA/TP-\/EDA-\/21-\/22/Trabalho Pratico 18550/Trabalho Pratico 18550/jobs.c@{D:/Pedro Leiras/IPCA/EDJD 1ANO/S2/EDA/TP-\/EDA-\/21-\/22/Trabalho Pratico 18550/Trabalho Pratico 18550/jobs.c}}
\textbf{ Go to the documentation of this file.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001 }
\DoxyCodeLine{00012 \textcolor{preprocessor}{\#include "{}header.h"{}}}
\DoxyCodeLine{00013 }
\DoxyCodeLine{00023 Job* CreateJob(\textcolor{keywordtype}{int} cod, OperationsList* o) \{}
\DoxyCodeLine{00024     Job* aux = (Job*)calloc(1, \textcolor{keyword}{sizeof}(Job));}
\DoxyCodeLine{00025     aux-\/>cod = cod;}
\DoxyCodeLine{00026     aux-\/>operations = o;}
\DoxyCodeLine{00027 }
\DoxyCodeLine{00028     \textcolor{keywordflow}{return} aux;}
\DoxyCodeLine{00029 \}}
\DoxyCodeLine{00030 }
\DoxyCodeLine{00037 ProcessPlan* CreateProcessPlanNode(Job* j) \{}
\DoxyCodeLine{00038     ProcessPlan* newNode = (ProcessPlan*)calloc(1, \textcolor{keyword}{sizeof}(ProcessPlan));}
\DoxyCodeLine{00039     newNode-\/>job.cod = j-\/>cod;}
\DoxyCodeLine{00040     newNode-\/>job.operations = j-\/>operations;}
\DoxyCodeLine{00041     newNode-\/>nextJob = NULL;}
\DoxyCodeLine{00042 }
\DoxyCodeLine{00043     \textcolor{keywordflow}{return} newNode;}
\DoxyCodeLine{00044 \}}
\DoxyCodeLine{00045 }
\DoxyCodeLine{00051 ProcessPlan* InsertJobInProcessPlan(ProcessPlan* h, Job* newJob) \{}
\DoxyCodeLine{00052     \textcolor{keywordflow}{if} (newJob == NULL) \{}
\DoxyCodeLine{00053         \textcolor{keywordflow}{return} h;}
\DoxyCodeLine{00054     \}}
\DoxyCodeLine{00055 }
\DoxyCodeLine{00056     ProcessPlan* aux = CreateProcessPlanNode(newJob);}
\DoxyCodeLine{00057 }
\DoxyCodeLine{00058     \textcolor{keywordflow}{if} (CheckJobExists(h, aux-\/>job.cod)) \{}
\DoxyCodeLine{00059         \textcolor{keywordflow}{return} h;}
\DoxyCodeLine{00060     \}}
\DoxyCodeLine{00061 }
\DoxyCodeLine{00062     \textcolor{keywordflow}{if} (h == NULL) \{}
\DoxyCodeLine{00063         h = aux;}
\DoxyCodeLine{00064     \}\textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00065         ProcessPlan* tmp = h;}
\DoxyCodeLine{00066         \textcolor{keywordflow}{while} (tmp-\/>nextJob != NULL) \{}
\DoxyCodeLine{00067             tmp = tmp-\/>nextJob;}
\DoxyCodeLine{00068         \}}
\DoxyCodeLine{00069         tmp-\/>nextJob = aux;}
\DoxyCodeLine{00070     \}}
\DoxyCodeLine{00071 }
\DoxyCodeLine{00072     \textcolor{keywordflow}{return} h;}
\DoxyCodeLine{00073 \}}
\DoxyCodeLine{00074 }
\DoxyCodeLine{00082 \textcolor{keywordtype}{bool} CheckJobExists(ProcessPlan* h, \textcolor{keywordtype}{int} cod) \{}
\DoxyCodeLine{00083     \textcolor{keywordflow}{if} (h != NULL) \{}
\DoxyCodeLine{00084         ProcessPlan* aux = h;}
\DoxyCodeLine{00085         \textcolor{keywordflow}{while} (aux != NULL) \{}
\DoxyCodeLine{00086             \textcolor{keywordflow}{if} (aux-\/>job.cod == cod) \{}
\DoxyCodeLine{00087                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00088             \}}
\DoxyCodeLine{00089             aux = aux-\/>nextJob;}
\DoxyCodeLine{00090         \}}
\DoxyCodeLine{00091     \}}
\DoxyCodeLine{00092 }
\DoxyCodeLine{00093     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00094 \}}
\DoxyCodeLine{00095 }
\DoxyCodeLine{00103 ProcessPlan* AddNewOperationToJob(ProcessPlan* h, \textcolor{keywordtype}{int} jobCod, Operation* o) \{}
\DoxyCodeLine{00104     \textcolor{keywordflow}{if} (h != NULL) \{}
\DoxyCodeLine{00105         Job* aux = SearchJob(h, jobCod);}
\DoxyCodeLine{00106         \textcolor{keywordflow}{if} (aux != NULL) \{}
\DoxyCodeLine{00107             aux-\/>operations = InsertOperationInOperationsList(aux-\/>operations, o);}
\DoxyCodeLine{00108         \}}
\DoxyCodeLine{00109     \}}
\DoxyCodeLine{00110 }
\DoxyCodeLine{00111     \textcolor{keywordflow}{return} h;}
\DoxyCodeLine{00112 \}}
\DoxyCodeLine{00113 }
\DoxyCodeLine{00121 ProcessPlan* RemoveOperationFromJob(ProcessPlan* h, \textcolor{keywordtype}{int} jobCod, \textcolor{keywordtype}{int} opCod) \{}
\DoxyCodeLine{00122     \textcolor{keywordflow}{if} (h != NULL) \{}
\DoxyCodeLine{00123         Job* job = SearchJob(h, jobCod);}
\DoxyCodeLine{00124         \textcolor{keywordflow}{if} (job != NULL \&\& job-\/>operations != NULL) \{}
\DoxyCodeLine{00125             OperationsList* aux = job-\/>operations;}
\DoxyCodeLine{00126             OperationsList* auxAnt = aux;}
\DoxyCodeLine{00127             \textcolor{keywordflow}{if} (aux-\/>operation.cod == opCod) \{                          \textcolor{comment}{//primeira operacao}}
\DoxyCodeLine{00128                 job-\/>operations = job-\/>operations-\/>nextOperation;      \textcolor{comment}{//head passa para a segunda operacao}}
\DoxyCodeLine{00129                 free(aux);}
\DoxyCodeLine{00130             \}\textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00131                 \textcolor{keywordflow}{while} (aux \&\& aux-\/>operation.cod != opCod) \{            \textcolor{comment}{//procura para remover}}
\DoxyCodeLine{00132                     auxAnt = aux;}
\DoxyCodeLine{00133                     aux = aux-\/>nextOperation;}
\DoxyCodeLine{00134                 \}}
\DoxyCodeLine{00135                 \textcolor{keywordflow}{if} (aux != NULL) \{                                      \textcolor{comment}{//se encontrou, remove}}
\DoxyCodeLine{00136                     auxAnt-\/>nextOperation = aux-\/>nextOperation;}
\DoxyCodeLine{00137                     free(aux);}
\DoxyCodeLine{00138                 \}}
\DoxyCodeLine{00139             \}}
\DoxyCodeLine{00140         \}}
\DoxyCodeLine{00141     \}}
\DoxyCodeLine{00142 }
\DoxyCodeLine{00143     \textcolor{keywordflow}{return} h;}
\DoxyCodeLine{00144 \}}
\DoxyCodeLine{00145 }
\DoxyCodeLine{00152 Job* SearchJob(ProcessPlan* h, \textcolor{keywordtype}{int} cod) \{}
\DoxyCodeLine{00153     \textcolor{keywordflow}{if} (h != NULL) \{}
\DoxyCodeLine{00154         ProcessPlan* aux = h;}
\DoxyCodeLine{00155         \textcolor{keywordflow}{while} (aux != NULL) \{}
\DoxyCodeLine{00156             \textcolor{keywordflow}{if} (aux-\/>job.cod == cod) \{}
\DoxyCodeLine{00157                 \textcolor{keywordflow}{return} (aux);}
\DoxyCodeLine{00158             \}}
\DoxyCodeLine{00159             aux = aux-\/>nextJob;}
\DoxyCodeLine{00160         \}}
\DoxyCodeLine{00161     \}}
\DoxyCodeLine{00162 }
\DoxyCodeLine{00163     \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{00164 \}}
\DoxyCodeLine{00165 }
\DoxyCodeLine{00172 OperationsMath GetMinTimeToCompleteJob(ProcessPlan* h, \textcolor{keywordtype}{int} jobCod) \{}
\DoxyCodeLine{00173     OperationsMath aux = \{ 0, NULL \};}
\DoxyCodeLine{00174 }
\DoxyCodeLine{00175     \textcolor{keywordflow}{if} (h != NULL) \{}
\DoxyCodeLine{00176         Job* job = SearchJob(h, jobCod);}
\DoxyCodeLine{00177         \textcolor{keywordflow}{if} (job != NULL \&\& job-\/>operations != NULL) \{}
\DoxyCodeLine{00178             OperationsList* auxOperations = job-\/>operations;}
\DoxyCodeLine{00179             aux = GetMinTimeToCompleteOperations(auxOperations);}
\DoxyCodeLine{00180         \}}
\DoxyCodeLine{00181     \}}
\DoxyCodeLine{00182 }
\DoxyCodeLine{00183     \textcolor{keywordflow}{return} aux;}
\DoxyCodeLine{00184 \};}
\DoxyCodeLine{00185 }
\DoxyCodeLine{00192 OperationsMath GetMaxTimeToCompleteJob(ProcessPlan* h, \textcolor{keywordtype}{int} jobCod) \{}
\DoxyCodeLine{00193     OperationsMath x = \{ 0, NULL \};}
\DoxyCodeLine{00194 }
\DoxyCodeLine{00195     \textcolor{keywordflow}{if} (h != NULL) \{}
\DoxyCodeLine{00196         Job* job = SearchJob(h, jobCod);}
\DoxyCodeLine{00197         \textcolor{keywordflow}{if} (job != NULL \&\& job-\/>operations != NULL) \{}
\DoxyCodeLine{00198             OperationsList* auxOperations = job-\/>operations;}
\DoxyCodeLine{00199             x = GetMaxTimeToCompleteOperations(auxOperations);}
\DoxyCodeLine{00200         \}}
\DoxyCodeLine{00201     \}}
\DoxyCodeLine{00202 }
\DoxyCodeLine{00203     \textcolor{keywordflow}{return} x;}
\DoxyCodeLine{00204 \};}
\DoxyCodeLine{00205 }

\end{DoxyCode}
